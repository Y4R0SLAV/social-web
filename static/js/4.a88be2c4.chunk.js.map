{"version":3,"sources":["components/common/Paginator/Paginator.module.css","../node_modules/classnames/index.js","components/Users/Users.module.css","components/common/Paginator/Paginator.jsx","assets/images/user.img","components/Users/User.jsx","components/Users/Users.jsx","redux/selectors/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","onClick","filter","p","map","cn","selectedPage","pageNumber","e","User","user","followingInProgress","follow","unfollow","to","id","src","photos","small","userPhoto","alt","s","avatar","followed","disabled","some","name","status","Users","totalUsersCount","props","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersComponent","setCurrentPage","this","Preloader","React","Component","compose","connect","toggleIsFollowingProgress","requestUsers","withAuthRedirect"],"mappings":"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","file":"static/js/4.a88be2c4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2MixZ\",\"pageNumber\":\"Paginator_pageNumber__3vfev\",\"selectedPage\":\"Paginator_selectedPage__1jA29\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__1ALIq\"};","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                            key={p}\r\n                            onClick={(e) => {\r\n                                onPageChanged(p);\r\n                            }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.1a52a24e.img\";","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"./../../assets/images/user.img\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (\r\n      <div>\r\n        <div> \r\n          <NavLink to={'/profile/'+ user.id}>\r\n            <img src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"\" className={s.avatar}/> \r\n          </NavLink>\r\n        </div>\r\n        <div> \r\n          { user.followed \r\n          ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick = {() => { unfollow(user.id) }}> Unfollow </button> \r\n            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick = {() => { follow(user.id) }}> Follow </button> \r\n          }\r\n        </div>\r\n        <span>\r\n          <span> \r\n            <div>  {user.name} </div>\r\n            <div> {user.status} </div>\r\n          </span>\r\n          <span> \r\n            {/* <div>  {\"user.location.country\"}</div>\r\n            <div> {\"user.location.city\"} </div> ` */}\r\n          </span>\r\n        </span>          \r\n    </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, ...props}) => {\r\n    return (\r\n      <div>\r\n        { props.users.map(u => (<User key={u.id} user={u} followingInProgress={props.followingInProgress} \r\n                                                follow = {props.follow} unfollow = {props.unfollow}/>))}\r\n        \r\n        <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged}/>  \r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Users;","\r\nexport const getUsers = (state) => { return state.usersPage.users };\r\nexport const getPageSize = (state) => { return state.usersPage.pageSize };\r\nexport const getTotalUsersCount = (state) => { return state.usersPage.totalUsersCount };\r\nexport const getCurrentPage = (state) => { return state.usersPage.currentPage };\r\nexport const getIsFetching = (state) => { return state.usersPage.isFetching };\r\nexport const getFollowingInProgress = (state) => { return state.usersPage.followingInProgress };","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport { follow, unfollow, setCurrentPage, toggleIsFollowingProgress, requestUsers } from '../../redux/usersReducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from './../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getUsers, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from './../../redux/selectors/usersSelectors';\r\n\r\nclass UsersComponent extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.getUsers(pageNumber, this.props.pageSize);\r\n    this.props.setCurrentPage(pageNumber);\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ?  <Preloader/> : null}\r\n      <Users totalUsersCount = {this.props.totalUsersCount}\r\n                      pageSize = {this.props.pageSize}\r\n                      users = {this.props.users}\r\n                      unfollow = {this.props.unfollow}\r\n                      follow = {this.props.follow}\r\n                      currentPage = {this.props.currentPage}\r\n                      onPageChanged = {this.onPageChanged} \r\n                      followingInProgress = {this.props.followingInProgress}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleIsFollowingProgress, getUsers: requestUsers}),\r\n  withAuthRedirect)(UsersComponent);"],"sourceRoot":""}